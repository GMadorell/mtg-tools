<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Moxfield Deck Aggregator</title>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
    >
    <link rel="stylesheet" href="aggregator.css">
</head>
<body class="bg-light">

<div class="container my-5">
    <h1 class="mb-4">Moxfield Deck Aggregator</h1>

    <div class="mb-3">
        <label for="deckUrls" class="form-label">Deck URLs (one per line):</label>
        <textarea
                class="form-control"
                id="deckUrls"
                rows="5"
                placeholder="https://moxfield.com/decks/tI_2bfDSKUaZKSsmNoCOTQ
https://moxfield.com/decks/dHKNlWHwUEeX_LnAJsBH9A"
        ></textarea>
    </div>

    <div class="mb-3">
        <label for="collectionFile" class="form-label">Moxfield CSV Collection:</label>
        <input
                type="file"
                class="form-control"
                id="collectionFile"
                accept=".csv"
        />
        <div class="form-text">Select the exported CSV from your Moxfield collection. This will make the 'Missing Cards' outputs useful.</div>
    </div>

    <button id="runAggregator" class="btn btn-primary" disabled>
        Run Aggregator
    </button>

    <div id="spinner" class="text-center mt-4" style="display: none;">
        <div class="spinner-border text-primary" role="status"></div>
        <p>Processing...</p>
    </div>

    <!--
      We wrap both the nav pills and the output area in a container so we can
      "gray them out" together by adding a special class (#outputsContainer).
    -->
    <div id="outputsContainer" class="my-4 disabledOutput">
        <!-- Tab navigation -->
        <div class="d-flex align-items-center mb-3">
            <ul class="nav nav-pills" id="outputTabs">
                <li class="nav-item">
                    <button class="nav-link active" data-mode="aggregated">Aggregated</button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" data-mode="simple">Simple</button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" data-mode="missingVerbose">Missing Cards (Verbose)</button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" data-mode="missingExport">Missing Cards (Export Friendly)</button>
                </li>
            </ul>

            <button id="copyOutput" class="btn btn-secondary ms-3" disabled>Copy Output</button>
        </div>

        <div class="card">
            <div class="card-body">
                <pre id="outputArea" class="mb-0"></pre>
            </div>
        </div>
    </div>

</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
></script>

<script src="aggregator.js"></script>

</body>
</html>
